<?xml version="1.0" encoding="utf-8" standalone="no"?>
<!DOCTYPE document SYSTEM "rml.dtd">
<document filename="certificate.pdf"
	  invariant="1"
	  compression="1"
	  creator="NextThought"
	  author="NextThought"
	  xmlns:tal="http://xml.zope.org/namespaces/tal"
	  xmlns:metal="http://xml.zope.org/namespaces/metal"
	  tal:attributes="title view/Title"
	  metal:define-macro="certificate"
              tal:define="branding_graphic python: options['CertificateSideBarImage'];
                          brand_color python: options['BrandColor'];
                          brand_logo python: options['BrandLogo']">

<image metal:define-macro="certificate-branding-graphic"
       file="[nti.app.products.courseware]/completion/templates/assets/sidebar-graphic.png"
       tal:attributes="file python: branding_graphic and options['Converter'](branding_graphic, width=187.0, height=612.0) or default"
       x="29" y="0" height="612" width="187"/>

<!-- Hidden by default -->
<image metal:define-macro="top-right-branding-graphic" file="[nti.app.products.courseware]/completion/templates/assets/sidebar-graphic.png" x="0" y="0" height="0" width="0"/>

<blockTable metal:define-macro="brand-logo" rowHeights="612" colWidths="187" style="simple">
  <tr>
    <tal:block tal:condition="brand_logo">
      <td tal:define="rasterized python: options['Converter'](brand_logo, width=187.0, height=612.0)">
        <img src="" tal:attributes="src python: options['ConstrainSize'](rasterized, max_width=187, max_height=612)"/>
      </td>
    </tal:block>
    <tal:block tal:condition="not:brand_logo">
      <td>
        <img src="[nti.app.products.courseware]/completion/templates/assets/nt-asterisk-white.png"/>
      </td>
    </tal:block>
  </tr>
</blockTable>

  <docinit>
    <registerTTFont faceName="OpenSans" fileName="[nti.app.products.courseware]/completion/templates/fonts/NotoSansNextThought-Regular.ttf" />
    <registerTTFont faceName="OpenSansSemiBold" fileName="[nti.app.products.courseware]/completion/templates/fonts/NotoSansNextThought-SemiBold.ttf" />
    <registerTTFont faceName="OpenSansBold" fileName="[nti.app.products.courseware]/completion/templates/fonts/NotoSansNextThought-Bold.ttf" />
    <registerTTFont faceName="OpenSansLight" fileName="[nti.app.products.courseware]/completion/templates/fonts/NotoSansNextThought-Light.ttf" />
  </docinit>

  <template pagesize="(792,612)" leftMargin="52" showBoundary="0">
    <pageTemplate id="landscape">
      <pageGraphics>
          <tal:block>
            <fill tal:attributes="color python: brand_color or '#3fb34f'"/>
            <rect x="29" y="0" height="612" width="187" fill="yes" stroke="no"/>
          </tal:block>
          <tal:block tal:condition="branding_graphic">
            <image metal:use-macro="macro:certificate-branding-graphic" file="[nti.app.products.courseware]/completion/templates/assets/sidebar-graphic.png" x="29" y="0" height="612" width="187"/>
          </tal:block>
          <image metal:use-macro="macro:top-right-branding-graphic" file="[nti.app.products.courseware]/completion/templates/assets/sidebar-graphic.png" x="0" y="0" height="0" width="0"/>
      </pageGraphics>
      <frame id="logo" x1="29" y1="0" width="187" height="612" />
      <frame id="heading" x1="238" y1="259" width="533" height="281"/>
      <frame id="instructor-0" x1="238" y1="187" width="245" height="72"/>
      <frame id="instructor-1" x1="494" y1="187" width="245" height="72"/>
      <frame id="instructor-2" x1="238" y1="115" width="245" height="72"/>
      <frame id="instructor-3" x1="494" y1="115" width="245" height="72"/>
      <frame id="instructor-4" x1="238" y1="43" width="245" height="72"/>
      <frame id="instructor-5" x1="494" y1="43" width="245" height="72"/>
    </pageTemplate>
  </template>

  <stylesheet>
	<blockTableStyle id="simple">
		<blockAlignment value="center"/>
		<blockValign value="middle"/>
	</blockTableStyle>
    <paraStyle name="header" fontName="OpenSansSemiBold" fontSize="13" leftIndent="18" rightIndent="18" spaceBefore="73" leading="17" textColor="#494949"/>
    <paraStyle name="name" fontName="OpenSansLight" fontSize="40" leftIndent="18" rightIndent="18" spaceBefore="7" leading="55" textColor="#494949" />
    <paraStyle name="course" fontName="OpenSans" fontSize="23" leftIndent="18" rightIndent="18" spaceBefore="7" leading="31" textColor="#494949" />
    <paraStyle name="date" fontName="OpenSans" fontSize="13" leftIndent="18" rightIndent="18" spaceBefore="7" leading="17" textColor="#b8b8b8" />
    <paraStyle name="credit" fontName="OpenSansSemiBold" fontSize="10" leftIndent="18" rightIndent="18" spaceBefore="7" leading="14" textColor="#494949" />
    <paraStyle name="facilitator-name" fontName="OpenSansSemiBold" fontSize="10" leftIndent="18" rightIndent="18" spaceBefore="7" leading="14" textColor="#494949" />
    <paraStyle name="facilitator-title" fontName="OpenSans" fontSize="9" leftIndent="18" rightIndent="18" spaceBefore="7" leading="12" textColor="#757474" />
  </stylesheet>
  <story>
    <keepInFrame frame="logo" onOverflow="shrink">
      <blockTable metal:use-macro="macro:brand-logo" rowHeights="612" colWidths="187" style="simple" />
    </keepInFrame>

    <keepInFrame frame="heading" onOverflow="shrink">
      <h3 style="header">
        <omitted tal:replace="options/Brand"/>
        <div tal:omit-tag="" tal:content="python:options.get('CertificateLabel') or default">Certificate of Completion</div>
      </h3>
    <h1 style="name" tal:content="options/Name">Huey Sooner</h1>
    <h5 style="date">Awarded on <ommitted tal:replace="options/Date">March 19, 2008</ommitted></h5>
    <h3 style="header"><omitted tal:replace="options/Brand">Janux</omitted> Course</h3>
    <h2 style="course" tal:content="options/Course">Course Title</h2>
    <h4 style="credit" tal:condition="options/Credit | nothing">
      <tal:block tal:repeat="credit options/Credit">
	Earned <omitted tal:replace="credit/Amount"/>  <omitted tal:replace="credit/Units"/> of <omitted tal:replace="credit/Type"/><omitted tal:condition="not:repeat/credit/end">, </omitted>
      </tal:block>
    </h4>
    </keepInFrame>
    <tal:block tal:define="rows python:3;
			   cols python:2;
			   count python:len(options['Facilitators']);
			   start python: (rows - ((count / cols) + (count % cols))) * cols if count else 0">
      <setNextFrame tal:attributes="name python:'instructor-'+str(start)"/>
    </tal:block>
    <tal:block tal:repeat="facilitator python: options['Facilitators']">
      <nextFrame />
      <h4 style="facilitator-name" tal:content="facilitator/Name">Instructor</h4>
      <para style="facilitator-title" tal:content="facilitator/JobTitle">
	Instructor
      </para>
    </tal:block>
  </story>
</document>
